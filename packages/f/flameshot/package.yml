name       : flameshot
version    : 13.0.1
release    : 16
source     :
    - https://github.com/flameshot-org/flameshot/archive/refs/tags/v13.0.1.tar.gz : 548867ae67a5cf0fbb8b2bb5dec2ac4e113c2980eda9abb7878041c374e5afa6
    - git|https://gitlab.com/mattbas/Qt-Color-Widgets.git : 352bc8f99bf2174d5724ee70623427aa31ddc26a
homepage   : https://flameshot.org/
license    :
    - Apache-2.0
    - GPL-2.0-or-later
    - GPL-3.0-or-later
    - LAL-1.3
    - LGPL-3.0-or-later
component  : multimedia.graphics
summary    : Powerful yet simple to use screenshot software
description: |
    A program to capture screenshots. It includes CLI options as well as a GUI for capturing and annotating screenshots.
builddeps  :
    - pkgconfig(KF6GuiAddons)
    - pkgconfig(Qt6Svg)
    - pkgconfig(Qt6UiTools)
    - kdsingleapplication-devel
rundeps    :
    - qt6-svg
setup      : |
    mkdir $workdir/external
    cp -R $sources/Qt-Color-Widgets.git $workdir/external/Qt-Color-Widgets

    %patch -p1 -i $pkgfiles/0001-build-Add-an-option-to-use-a-bundled-KDSingleApplica.patch

    %cmake_ninja \
        -DDISABLE_UPDATE_CHECKER:BOOL=ON \
        -DUSE_WAYLAND_CLIPBOARD:BOOL=ON \
        -DUSE_BUNDLED_KDSINGLEAPPLICATION:BOOL=OFF
build      : |
    %ninja_build
install    : |
    %ninja_install
